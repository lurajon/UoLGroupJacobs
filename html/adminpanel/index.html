<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Welcome to UoL Hotel</title>
<link href='http://fonts.googleapis.com/css?family=Open+Sans|Yanone+Kaffeesatz:200,400' rel='stylesheet' type='text/css' />
<link href="../css/admin-styles.css" rel="stylesheet" type="text/css" />
<script src="../js/ajax_submit.js" type="text/javascript"></script>
<script type="text/javascript">
	function getPendingGuestbookEntries() {
		var response = Ajax.xmlHttpGet('../code/guestbook/GuestbookController.php?info=pendingCount', false);
		var output = document.getElementById('pendingEntries');
		
		try {
		var jsonObj = JSON.parse(response);
        
        	if (jsonObj.guestbookInfo != null) {
        		output.innerHTML = jsonObj.guestbookInfo.count;
        	}
        } catch(e) {
        	output.innerHTML = "Failed to retrieve list: " + e;
        }
	}
</script>
</head>

<body class="admin" onload="getPendingGuestbookEntries()">
<div class="holder">
  <div class="w140 pad_left_800">
    <div class="member_entry">Admnistration</div>
  </div>
  <div class="clear"></div>
  <div class="w460">
    <div class="site_logo"> HOTEL </div>
  </div>
  <div class="clear pad_bot_10"></div>
  <div class="w940">
    <div class="menu_holder">
      <div class="menu_main">
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="user/users.html">User Management</a></li>
          <li><a href="reservations/reservations.html">Reservations</a></li>
          <li><a href="guestbook/guestbook.html">Guestbook Management</a></li>
          <li><a href="../index.html">Back to Hotel Site</a></li>
        </ul>
      </div>
    </div>
  </div>
  <div class="clear pad_bot_10"></div>
  <div class="w940">
    <div>Welcome to the administration area</div>
    <table class="margin_top_10">
            <tbody>
              <tr>
                <td>Number of users</td>
                <td>{numberOfUsers}</td>
                <td><a href="user/users.html">User Management</a></td>
              </tr>
              <tr>
                <td>Number of pending guestbook entries:</td>
                <td><span id="pendingEntries"></span></td>
                <td><a href="guestbook/guestbook.html">Guestbook Management</a></td>
              </tr>
            </tbody>
        </table>
  </div>
  
  <div class="clear pad_bot_20"></div>
  <div class="w940">
    <div class="footer pad_top_10">
      <div class="copyright">&copy; University of Liverpool Hotel</div>
      <div class="footer_contact">UoL Hotel, Street Address, City<br />
        t. +44 (0) 151 xxx xxxx | e. <a href="mailto:enquiries@uolhotel.com">enquiries@uolhotel.com</a></div>
    </div>
  </div>
</div>
</body>
</html>