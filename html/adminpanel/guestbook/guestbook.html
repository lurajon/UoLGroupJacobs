'<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Welcome to UoL Hotel</title>
<link href='http://fonts.googleapis.com/css?family=Open+Sans|Yanone+Kaffeesatz:200,400' rel='stylesheet' type='text/css' />
<link href="../../css/admin-styles.css" rel="stylesheet" type="text/css" />
<script src="../../js/ajax_submit.js" type="text/javascript"></script>
<script type="text/javascript" >

	function loadGuestbookEntries() {
		loadPendingEntries();
	}
	
	function buildGuestbookList(outputElement, guestbookListObj) {
		
	}
	
	function buildEmptyList(outputElement, msgObj) {
		var tableBody = document.getElementById(outputElement);
		tableBody.innerHTML = '';
		
		var row = document.createElement('tr');
		var cell = document.createElement('td');
		cell.colSpan = '4';
		cell.innerHTML = msgObj.message.content;
		row.appendChild(cell);
		tableBody.appendChild(row);
	}
	
	function loadPendingEntries() {
		var response = Ajax.xmlHttpGet('../../code/guestbook/GuestbookController.php?list=pending');
		
		var jsonObj = JSON.parse(response);
        
       	if (jsonObj == null) {
        	return;
        }
        
        if (jsonObj.message != null) {
        	buildEmptyList('pendingTableBody', jsonObj);
        } else if (jsonObj.guestbookList != null) {
        	buildGuestbookList('pendingTableBody', jsonObj);
        }
	}
	
	function loadApprovedEntries() {
		var response = Ajax.xmlHttpGet('../../code/guestbook/GuestbookController.php?list=approved');
		
		var jsonObj = JSON.parse(response);
        
       	if (jsonObj == null) {
        	return;
        }
        
        if (jsonObj.message != null) {
        	buildEmptyList('approvedTableBody', jsonObj);
        } else if (jsonObj.guestbookList != null) {
        	buildGuestbookList('approvedTableBody', jsonObj);
        }
	}
	
</script>
</head>

<body class="admin" onload="loadGuestbookEntries();">
<div class="holder">
  <div class="w140 pad_left_800">
    <div class="member_entry">Admnistration</div>
  </div>
  <div class="clear"></div>
  <div class="w460">
    <div class="site_logo"> HOTEL </div>
  </div>
  <div class="clear pad_bot_10"></div>
  <div class="w940">
    <div class="menu_holder">
      <div class="menu_main">
        <ul>
          <li><a href="../index.html">Home</a></li>
          <li><a href="../user/users.html">User Management</a></li>
          <li><a href="../reservations/reservations.html">Reservations</a></li>
          <li><a href="guestbook.html">Guestbook Management</a></li>
          <li><a href="../../index.html">Back to Hotel Site</a></li>
        </ul>
      </div>
    </div>
  </div>
  <div class="clear pad_bot_10"></div>
   <!-- Content -->
  <div class="w940">
    <div id="search">
        <form action="#">
            <input id="searchValue" type="text" name="searchValue" value="" /><input type="submit" value="Search" />
        </form>
    </div>
    
    <div class="header_holder margin_top_10">
      <!-- JL: enter your content header within <h1> element -->
        <h1>New Guestbook entries</h1>
       <!-- // JL -->
      </div>
      <!-- JL: please use space below to add your page contents -->
        <table class="w100p margin_top_10">
            <thead>
                <tr>
                    <th>Title</th>
                    <th>Posted By</th>
                    <th>Posted Date</th>
                    <th>Options</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>{guestBookEntry.title}</td>
                    <td>{guestBookEntry.postedBy}</td>
                    <td>{guestBookEntry.postedDate}</td>
                    <td><a href="entryDetails.html?entryId={entry.entryId}">Details</a></td>
                </tr>
            </tbody>
        </table>    
      <!-- //JL -->
    </div>
   
  <div class="clear pad_bot_20"></div>
  <div class="w940">
     <div class="header_holder margin_top_10">
      <!-- JL: enter your content header within <h1> element -->
        <h1>Published Guestbook entries</h1>
       <!-- // JL -->
      </div>
      <!-- JL: please use space below to add your page contents -->
        <table class="w100p margin_top_10">
            <thead>
                <tr>
                    <th>Title</th>
                    <th>Posted By</th>
                    <th>Posted Date</th>
                    <th>Options</th>
                </tr>
            </thead>
            <tbody id="pendingTableBody">
                <tr>
                    <td>{guestBookEntry.title}</td>
                    <td>{guestBookEntry.postedBy}</td>
                    <td>{guestBookEntry.postedDate}</td>
                    <td><a href="entryDetails.html?entryId={entry.entryId}">Details</a></td>
                </tr>
            </tbody>
        </table>    
      <!-- //JL -->
    </div>
  
 <div class="clear pad_bot_20"></div>
  <div class="w940">
    <div class="footer pad_top_10">
      <div class="copyright">&copy; University of Liverpool Hotel</div>
      <div class="footer_contact">UoL Hotel, Street Address, City<br />
        t. +44 (0) 151 xxx xxxx | e. <a href="mailto:enquiries@uolhotel.com">enquiries@uolhotel.com</a></div>
    </div>
  </div>
</div>
</body>
</html>